# Configuración de Apache para GenomeAnalyzer Pro
# Colocar en: /etc/apache2/sites-available/genomeanalyzer.conf

<VirtualHost *:80>
    ServerName tu-dominio.com
    ServerAdmin admin@tu-dominio.com
    
    # Configuración WSGI
    WSGIDaemonProcess genomeanalyzer python-home=/var/www/genomeanalyzer/venv python-path=/var/www/genomeanalyzer
    WSGIProcessGroup genomeanalyzer
    WSGIScriptAlias / /var/www/genomeanalyzer/wsgi.py
    
    # Variables de Entorno (Alternativa a .env)
    # SetEnv GEMINI_API_KEY "tu_api_key_aqui"
    # SetEnv NCBI_EMAIL "tu_email@ejemplo.com"
    # SetEnv FLASK_ENV "production"
    
    # Directorio del proyecto
    <Directory /var/www/genomeanalyzer>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>
    
    # Archivos estáticos
    Alias /static /var/www/genomeanalyzer/static
    <Directory /var/www/genomeanalyzer/static>
        Require all granted
    </Directory>
    
    # Logs
    ErrorLog ${APACHE_LOG_DIR}/genomeanalyzer_error.log
    CustomLog ${APACHE_LOG_DIR}/genomeanalyzer_access.log combined
    
    # Límites de tiempo para análisis largos
    WSGIScriptReloading On
    WSGIApplicationGroup %{GLOBAL}
</VirtualHost>

# Configuración HTTPS (opcional pero recomendado)
# Descomentar después de configurar SSL con Let's Encrypt
#<VirtualHost *:443>
#    ServerName tu-dominio.com
#    ServerAdmin admin@tu-dominio.com
#    
#    SSLEngine on
#    SSLCertificateFile /etc/letsencrypt/live/tu-dominio.com/fullchain.pem
#    SSLCertificateKeyFile /etc/letsencrypt/live/tu-dominio.com/privkey.pem
#    
#    WSGIDaemonProcess genomeanalyzer-ssl python-home=/var/www/genomeanalyzer/venv python-path=/var/www/genomeanalyzer
#    WSGIProcessGroup genomeanalyzer-ssl
#    WSGIScriptAlias / /var/www/genomeanalyzer/wsgi.py
#    
#    <Directory /var/www/genomeanalyzer>
#        <Files wsgi.py>
#            Require all granted
#        </Files>
#    </Directory>
#    
#    Alias /static /var/www/genomeanalyzer/static
#    <Directory /var/www/genomeanalyzer/static>
#        Require all granted
#    </Directory>
#    
#    ErrorLog ${APACHE_LOG_DIR}/genomeanalyzer_ssl_error.log
#    CustomLog ${APACHE_LOG_DIR}/genomeanalyzer_ssl_access.log combined
#</VirtualHost>
